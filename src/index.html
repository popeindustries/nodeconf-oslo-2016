<!DOCTYPE html>
<html class="">
<head>
  <meta charset="utf-8">
  <title>NodeConf Oslo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
  <link rel="stylesheet" type="text/css" href="index.css">
  <link rel="stylesheet" type="text/css" href="src/lib/monokai.css">
</head>
<body>
  <div class="slides">
    <section id="title">
      <div class="top">
        <h1>Thunder</h1>
      </div>
      <div class="middle">
        <h1>&amp;</h1>
      </div>
      <div class="bottom">
        <h1>Lightning</h1>
      </div>
      <div class="notes">
        <p class="note">Hi, my name is Alex, and I'm here to tell you a story about a little, underdog of a weather service called 'Yr'</p>
      </div>
    </section>
    <section id="history" data-steps="4">
      <img class="logo logo--yr" inline src="src/images/logo-yr--circle.svg">
      <div class="partner-logos">
        <img class="logo logo--nrk" inline src="src/images/logo-nrk.svg">
        <img class="logo logo--met" inline src="src/images/logo-met.svg">
      </div>
      <h2 class="max-users">9,000,000 users/week</h2>
      <img class="stats" inline src="src/images/stats.svg">
      <h2 class="launch-date">Sept 19, 2007</h2>
      <h2 class="mobile-users">60% mobile</h2>
      <div class="notes">
        <p class="note">Yr is a collaboration between Norway's state broadcaster, NRK, (where I work) and it's Meteorological Institute, known as Met (because 'meteorological' is really hard to say)</p>
        <p class="note">Although NRK and Met have collaborated to deliver weather reports to Norwegians since forever, first via radio, then TV, in 2007 they released yr.no on the internets</p>
        <p class="note">The website quickly became one of the most used in Norway...</p>
        <p class="note">...and last summer we had 9 million (unique) visitors per week...</p>
        <p class="note">...of which approximately 60% used a mobile device (evenly split between web and native apps)</p>
      </div>
    </section>
    <section id="geography" data-steps="4">
      <img class="map" inline src="src/images/map.svg">
      <h2 class="title">web sessions (2015)</h2>
      <h3 class="no-users">578,850,000 from Norway (47%)</h3>
      <h3 class="nk-users">31 from North Korea</h3>
      <div class="notes">
        <p class="note">You might be wondering where all these people come from if there are only 5 million people in Norway...</p>
        <p class="note">...and the answer to that would be everywhere expect, apparently, Western Sahara</p>
        <p class="note">Norway accounts for a little under 50% of traffic, with most of the remaining top 10 coming from northern Europe. </p>
        <p class="note">Strangely, we are big with South African farmers, and though we are <em>not</em> so big in Japan...</p>
        <p class="note">...we did record 31 sessions from North Korea, so maybe that counts as big in North Korea</p>
      </div>
    </section>
    <section id="mobile" data-steps="5">
      <div class="phone n95">
        <figure class="back ">
          <img src="src/images/n95-old.png">
          <figcaption>2007</figcaption>
        </figure>
      </div>
      <div class="phone iphone">
        <figure class="front">
          <img src="src/images/iphone-old.png">
          <figcaption>2012</figcaption>
        </figure>
        <figure class="back">
          <img src="src/images/iphone-old-www.png">
          <figcaption>2012</figcaption>
        </figure>
      </div>
      <div class="m">
        <h2>m.yr.no</h2>
        <ul>
          <li class="good">light on bandwidth</li>
          <li class="good">flexible width</li>
          <li class="bad">light on features</li>
        </ul>
      </div>
      <div class="www">
        <h2>www.yr.no</h2>
        <ul>
          <li class="good">heavy on features</li>
          <li class="bad">heavy on bandwidth</li>
          <li class="bad">fixed width</li>
        </ul>
      </div>
    </section>
    <section id="architecture" data-steps="6">
      <div class="bg"></div>
      <div class="diagram-group">
        <svg class="diagram old" width="100px" height="100px" viewBox="0 0 100 100" xml:space="preserve">
          <circle class="renderer" opacity="0.5" cx="50" cy="50" r="50"/>
          <circle class="renderer" opacity="0.7" cx="50" cy="50" r="45"/>
          <circle class="renderer" cx="50" cy="50" r="40"/>
          <circle class="api" cx="50" cy="50" r="35"/>
          <circle class="data" cx="50" cy="50" r="30"/>
          <g class="text">
            <circle fill="none" cx="50" cy="50" r="60"/>
            <line x1="98" y1="12" x2="105" y2="5" />
            <line x1="110" y1="47" x2="120" y2="47" />
            <line x1="103" y1="82" x2="110" y2="89" />
            <text opacity="0.6" x="105" y="5">DATA</text>
            <text opacity="0.6" x="120" y="52">API</text>
            <text opacity="0.6" x="110" y="100">RENDERERS</text>
          </g>
        </svg>
        <aside class="old-aside">
          <h2>scary!</h2>
          <ul>
            <li class="bad">few tests</li>
            <li class="bad">2 week release delay</li>
          </ul>
        </aside>
      </div>
      <svg class="diagram new-renderer" width="100px" height="100px" viewBox="0 0 100 100" xml:space="preserve">
        <circle class="renderer" cx="50" cy="50" r="25"/>
        <g class="text">
          <circle class="ring" fill="none" cx="50" cy="50" r="35"/>
          <line x1="76" y1="72" x2="85" y2="81" />
          <text opacity="0.6" x="85" y="92">RENDERER</text>
        </g>
      </svg>
      <svg class="diagram new-api" width="100px" height="100px" viewBox="0 0 100 100" xml:space="preserve">
        <circle class="api" cx="50" cy="50" r="20"/>
        <circle class="api api-2" cx="50" cy="50" r="25"/>
        <g class="text">
          <circle fill="none" cx="50" cy="50" r="35"/>
          <line x1="85" y1="50" x2="98" y2="50" />
          <text opacity="0.6" x="95" y="56">API</text>
        </g>
      </svg>
      <svg class="diagram new-data" width="100px" height="100px" viewBox="0 0 100 100" xml:space="preserve">
        <circle class="data" cx="50" cy="50" r="25"/>
        <g class="text">
          <circle fill="none" cx="50" cy="50" r="35"/>
          <line x1="73" y1="24" x2="80" y2="17" />
          <text opacity="0.6" x="80" y="17">DATA</text>
        </g>
      </svg>
    </section>
    <section id="universal" data-steps="5">
      <div class="bg"></div>
      <div class="points">
        <h2 class="point point-1">Cacheable</h2>
        <h2 class="point point-2">Resilient</h2>
        <h2 class="point point-3">Accessible</h2>
        <h2 class="point point-4">Progressive</h2>
      </div>
    </section>
    <section id="express" data-steps="6">
      <pre class="code app">
        <code class="js">
const app = express();
        </code>
      </pre>
      <pre class="code middleware">
        <code class="js">
app.use(function (req, res, next) {
  log('request from: ' + req.originalUrl);
  next();
});
        </code>
      </pre>
      <pre class="code param">
        <code class="js">
app.param('localeCode', function (req, res, next, localeCode) {
  if (valid(localeCode)) return next();
  return next(Error('invalid locale code'));
});
        </code>
      </pre>
      <pre class="code route">
        <code class="js">
const pattern = '/:localeCode({localeCode})/:page({page})';

app.get(pattern, function (req, res, next) {
  const localeCode = req.params.localeCode;
  const query = req.query;
  //...
});
        </code>
      </pre>
      <pre class="code runtime">
        <code class="js">
const thing = runtime.isServer
  ? require('thing-server.js')
  : require('thing-client.js');
        </code>
      </pre>
      <h2 class="coverage">80% shared code</h2>
      <h2 class="thought">=<br/>42% less thinking</h2>
    </section>
    <section id="caveats">
      <div class="bg"></div>

    </section>
  </div>
  <script src="src/lib/highlight.js"></script>
  <script src="index.js"></script>
</body>
</html>